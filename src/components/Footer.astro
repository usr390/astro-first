---
import Logo from './Logo.astro';
import SocialSection from "./SocialSection.astro";
import { siteMeta, socialLinks } from "../site/mapstourbuses.footer";
import Copyright from "./Copyright.astro";
import ContactSection from "./ContactSection.astro";
import { phoneContacts } from "../site/mapstourbuses.footer";


type Lang = "en" | "es";
const { lang = "en" } = Astro.props as { lang?: Lang };

/**
 * Translations
 */
const t: Record<Lang, {
  intro: string;
  contact: string;
  follow: string;
  rights: string;
  call: (name: string) => string;
}> = {
  en: {
    intro:
      "Our professional and caring team is here to make your trip easy and stress-free. From the moment you board, we work for you so you can relax and enjoy the ride.",
    contact: "Contact Us",
    follow: "Follow Us",
    rights: "All rights reserved.",
    call: (name) => `Call ${name}`,
  },
  es: {
    intro:
      "Nuestro equipo profesional y atento está aquí para hacer su viaje fácil y sin preocupaciones. Desde el momento en que aborda, trabajamos para usted, para que pueda relajarse y disfrutar del viaje.",
    contact: "Contáctenos",
    follow: "Síganos",
    rights: "Todos los derechos reservados.",
    call: (name) => `Llamar a ${name}`,
  },
};

const copy = t[lang] ?? t.en;
---

<footer class="site-footer">
  <div class="footer-logo">
    <Logo />
  </div>

  <div class="footer-intro">
    <p>{copy.intro}</p>
  </div>

  <ContactSection title={copy.contact} people={phoneContacts} ariaLabel={copy.call} />
  <SocialSection title={copy.follow} links={socialLinks} />
  <Copyright brand={siteMeta.brand} rights={copy.rights} />

</footer>

<style>
.site-footer {
  margin-top: 4rem;
  padding: 3.5rem 1rem 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2.5rem;
  text-align: center;
}

.footer-logo {
  display: flex;
  justify-content: center;
  align-items: center;
}

.footer-logo svg,
.footer-logo img {
  max-height: 70px;
  width: auto;
}

.footer-intro {
  max-width: 640px;
  font-size: 0.95rem;
  line-height: 1.6;
  color: #444;
}

/* Generic section wrapper used by multiple components */
.footer-section {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.footer-section h2 {
  margin-bottom: 0.5rem;
  font-size: 1.25rem;
  font-weight: 700;
}

/* Shared social layout */
.socials {
  display: flex;
  gap: 1rem;
  justify-content: center;
}

.footer-bottom {
  margin-top: 1rem;
  font-size: 0.85rem;
  opacity: 0.6;
}
</style>