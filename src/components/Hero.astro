---
type Lang = "en" | "es";

type HeroAction = {
  label: string;
  href: string;
  variant?: "solid" | "ghost";
};

const {
  lang = "en",
  title,
  subtitle,
  ariaLabel,
  actions,
} = Astro.props as {
  lang?: Lang;
  title?: string;
  subtitle?: string;
  ariaLabel?: string;
  actions?: readonly HeroAction[];
};

const defaults: Record<Lang, {
  ariaLabel: string;
  title: string;
  subtitle: string;
  actions: HeroAction[];
}> = {
  en: {
    ariaLabel: "Hero section",
    title: "Kings Of The Road",
    subtitle:
      "Comfortable, reliable charter bus tours across Texas and beyond. Perfect for groups, events, and day trips.",
    actions: [
      { label: "Get a Quote", href: "/contact", variant: "solid" },
      { label: "View Tours", href: "/tours", variant: "ghost" },
    ],
  },
  es: {
    ariaLabel: "Sección principal",
    title: "Reyes del Camino",
    subtitle:
      "Tours en autobús cómodos y confiables por todo Texas y más allá. Ideales para grupos, eventos y viajes de un día.",
    actions: [
      { label: "Solicitar Cotización", href: "/es/contact", variant: "solid" },
      { label: "Ver Tours", href: "/es/tours", variant: "ghost" },
    ],
  },
};

const copy = defaults[lang] ?? defaults.en;

const finalAria = ariaLabel ?? copy.ariaLabel;
const finalTitle = title ?? copy.title;
const finalSubtitle = subtitle ?? copy.subtitle;
const finalActions = actions ?? copy.actions;
---

<section class="hero" aria-label={finalAria}>
  <div class="hero__inner">
    <h2 class="hero__title">{finalTitle}</h2>
    <p class="hero__subtitle">{finalSubtitle}</p>

    <div class="hero__actions">
      {finalActions.map((a) => (
        <a class={a.variant === "ghost" ? "btn btn--ghost" : "btn"} href={a.href}>
          {a.label}
        </a>
      ))}
    </div>
  </div>
</section>

<style>
/* =========================
   Hero
========================= */
.hero {
  background-image:
    linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)),
    url("/public/hero-bus.jpeg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  border-radius: 0;
  padding: clamp(2rem, 5vw, 4rem);
  margin: 1.5rem auto 2rem;
  max-width: 1100px;
}

.hero {
  min-height: clamp(320px, 45vh, 520px);
  display: flex;
  align-items: center;
}

.hero__inner {
  color: #fff;
  max-width: 650px;
}

.hero__title {
  color: #fff;
  margin: 0 0 0.75rem;
  font-size: clamp(2rem, 4vw, 3.25rem);
  line-height: 1.1;
}

.hero__subtitle {
  margin: 0 0 1.25rem;
  font-size: clamp(1rem, 1.4vw, 1.15rem);
  opacity: 0.95;
}

.hero__actions {
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
  justify-content: center;
}

.btn {
  display: inline-block;
  padding: 0.75rem 1rem;
  border-radius: 999px;
  background: #4B1E73;
  color: white;
  text-decoration: none;
  font-weight: 700;
}

.btn--ghost {
  background: rgba(255,255,255,0.18);
  border: 1px solid rgba(255,255,255,0.35);
}
</style>